{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","apiService/api.js","App.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","props","useState","value","setValue","className","styles","SearchForm","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","handleChange","ImageGalleryItem","images","openModal","map","el","onClick","src","largeImageURL","id","webformatURL","alt","ImageGallery","hits","toggleModal","Button","incrementPage","scrollingRef","useRef","ref","Loader","loader","color","height","width","timeout","React","Component","modalRoot","document","querySelector","Modal","img","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","target","fetchApi","q","page","BASE_URL","fetch","then","r","json","App","setPage","setImages","searchValue","setSearchValue","status","setStatus","showModal","setShowModal","largeImageUrl","setLargeImageUrl","largeImage","largeImgData","onPushImagesToState","catch","error","console","log","prevImages","trim","length","prevPage","setTimeout","current","scrollIntoView","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b9248ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2eLuU\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2wCwb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__unx0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__bngn_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3lfca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Z5Lb\",\"SearchForm\":\"Searchbar_SearchForm__22Z7r\",\"SearchForm-button\":\"Searchbar_SearchForm-button__xG2uC\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3_xZZ\",\"SearchForm-input\":\"Searchbar_SearchForm-input__U3uRG\"};","import React, { useState } from 'react';\nimport styles from './Searchbar.module.css';\n\nfunction Searchbar(props) {\n  const [value, setValue] = useState('');\n\n  const handleChange = e => {\n    setValue(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.onSubmit(value);\n    setValue('');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles['SearchForm-button']}>\n          <span className={styles['SearchForm-button-label']}>Search</span>\n        </button>\n\n        <input\n          className={styles['SearchForm-input']}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n          onChange={e => {\n            handleChange(e);\n          }}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ images, openModal }) => {\n  return images.map(el => (\n    <li\n      key={el.id}\n      className={styles['ImageGalleryItem']}\n      onClick={() => {\n        openModal({ src: el.largeImageURL, id: el.id });\n      }}\n    >\n      <img\n        className={styles['ImageGalleryItem-image']}\n        src={el.webformatURL}\n        alt={el.id}\n      />\n    </li>\n  ));\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ hits, toggleModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      <ImageGalleryItem images={hits} openModal={toggleModal} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  hits: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { useRef } from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ incrementPage }) => {\n  const scrollingRef = useRef();\n  return (\n    <button\n      onClick={() => {\n        incrementPage(scrollingRef);\n      }}\n      className={styles.Button}\n      ref={scrollingRef}\n      type=\"button\"\n    >\n      Load More\n    </button>\n  );\n};\n\nButton.propTypes = {\n  incrementPage: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport LoaderElement from 'react-loader-spinner';\nimport styles from './Loader.module.css';\nexport default class Loader extends React.Component {\n  render() {\n    return (\n      <LoaderElement\n        className={styles.loader}\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={200}\n        width={200}\n        timeout={1000}\n      />\n    );\n  }\n}\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport Loader from '../Loader/Loader';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ img, toggleModal }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        toggleModal();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [toggleModal]);\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      toggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <Loader />\n      <div className={styles.Modal}>\n        <img className={styles['modal-img']} src={img.src} alt={img.id} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nexport default Modal;\n","function fetchApi(q, page) {\n  const KEY = 'key=23968448-11f2d292972b337bbc3d525d1';\n  const BASE_URL = `https://pixabay.com/api/?q=${q}&page=${page}&${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  const fetchData = fetch(BASE_URL).then(r => r.json());\n  return fetchData;\n}\n\nexport default fetchApi;\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport fetchApi from './apiService/api';\n\nfunction App() {\n  const [page, setPage] = useState(0);\n  const [images, setImages] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageUrl, setLargeImageUrl] = useState({});\n\n  const toggleModal = largeImage => {\n    const largeImgData = largeImage ? largeImage : {};\n    setShowModal(!showModal);\n    setLargeImageUrl(largeImgData);\n  };\n\n  useEffect(() => {\n    if (page === 0) return;\n    fetchApi(searchValue, page)\n      .then(images => onPushImagesToState(images))\n      .catch(error => console.log(error));\n  }, [searchValue, page]);\n\n  const onPushImagesToState = images => {\n    setStatus('resolved');\n    setImages(prevImages => {\n      return [...prevImages, ...images.hits];\n    });\n  };\n\n  const onSubmitForm = value => {\n    if (value.trim() === '') return;\n    if (value === searchValue) return;\n    setStatus('pending');\n    setImages([]);\n    setSearchValue(value);\n    setPage(1);\n  };\n\n  const onLoadMore = ref => {\n    setStatus('pending');\n    setPage(prevPage => {\n      return prevPage + 1;\n    });\n    setTimeout(() => {\n      ref.current.scrollIntoView({ behavior: 'smooth' });\n    }, 500);\n  };\n\n  return (\n    <div className=\"App\">\n      {showModal && <Modal img={largeImageUrl} toggleModal={toggleModal} />}\n      <Searchbar onSubmit={onSubmitForm} />\n      {status === 'pending' && <Loader />}\n      {searchValue.trim() === '' && (\n        <h2 className=\"title\">Введите запрос в поиск</h2>\n      )}\n      {images.length > 0 && (\n        <ImageGallery hits={images} toggleModal={toggleModal} />\n      )}\n      {images.length > 0 && <Button incrementPage={onLoadMore} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2lNsc\",\"Modal\":\"Modal_Modal__2L10G\",\"modal-img\":\"Modal_modal-img__3m6D9\"};"],"sourceRoot":""}